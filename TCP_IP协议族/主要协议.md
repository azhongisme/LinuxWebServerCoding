TCP/IP协议是一个四层协议系统，自底而上分别是数据链路层、网络层、传输层、应用层
# 数据链路层
数据链路层实现了网卡接口的网络驱动程序，以处理数据在物理媒介上的传输（以太网、令牌环等）

数据链路层两个常用的协议是ARP（Address Resolve Protocol， 地址解析协议）和RARP（Reverse Address Resolve Protocol， 逆地址解析协议）。它们实现了IP地址和机器物理地址之间的相互转换

网络层使用IP地址寻找一台机器，而数据链路层使用物理地址寻址一台机器，因此网络层必须先将目标机器的IP地址转化成其物理地址，才能使用数据链路层提供的服务，这就是ARP协议的用途。RARP协议仅用于网络上的某些无盘工作站。

# 网络层
网络层实现数据包的选路和转发。通信的两台主机一般不是直接相连的，而是通过多个中间结点（路由器）连接的。网络层的任务就是选择这些中间结点，以确定两台主机之间的通信路径。同时网络层对上层协议隐藏了网络拓扑连接的细节，使得在传输层和网络应用程序来看，通信的双方是直接连接的。

IP协议通过数据包的目的IP地址来决定如何投递它，如果不能直接发送给主机，那么IP协议就为它寻找一个合适的下一跳路由器，并将数据包交付给路由器来转发。多次重复这一过程，数据包最终到达目标主机，或者由于发送失败而被丢弃。

ICMP协议主要用于检测网络连接，ICMP并非严格意义上的网络层协议。ICMP报文一种是差错报文，用于回应网络错误；宁一种用来查询网络信息

# 传输层
传输层为两台主机上的应用程序提供端到端的通信，传输层只关心通信的起始端和目的端，而不在乎目的包的中转过程

TCP协议：为应用层提供可靠的、面向连接和基于流的服务。TCP协议使用超时重传、数据确认等方式来确保数据包被正确发送至目的端

UDP协议：不安全的

SCTP协议：为了在因特网上传输电话信号而设计的

# 应用层
负责处理应用程序的逻辑，宁外三层在内核空间中实现，应用层在用户空间实现。也有少数服务程序是在内核中实现

telnet协议是一种远程登录协议

OSPF协议是一种动态路由更新协议，用于路由器之间的通信

DNS协议提供机器域名到IP地址的转换

应用层协议（或程序）可能跳过传输层直接使用网络层提供的服务